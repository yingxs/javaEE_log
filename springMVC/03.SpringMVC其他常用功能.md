### 1.1.@ExceptionHandler注解处理异常
> @ExceptionHandler该注解使用在异常处理方法上面

* a.写在控制器内
```
@Controller
@RequestMapping("/exception")
public class ExceptionController {

	/**
	 * 异常处理方法
	 * value:该异常方法可以处理的异常类型
	 * @return
	 */
	@ExceptionHandler(value={java.lang.NullPointerException.class})
	public ModelAndView exceptionHandler(Exception ex) {
		ModelAndView mv = new ModelAndView();
		
//		mv.addObject("exception", ex.toString());
		
		StringWriter writer = new StringWriter();
		PrintWriter s = new PrintWriter(writer);
		//将异常栈中的信息暂时写入writer中
		ex.printStackTrace(s);
		
		mv.addObject("exception", writer.toString());
		
		mv.setViewName("error");
		return mv;
		
	}
	
	@RequestMapping("/test1")
	public String test1() {
		System.out.println("ExceptionController的test1()");
		
		//模拟异常
		String name = null;
		name.substring(0);
		
		return "success";
	}
}
```

* b.单独抽取一个类
```
@ControllerAdvice
public class MyExceptionHandler {
	
	/**
	 * 异常处理方法
	 * value:该异常方法可以处理的异常类型
	 * @return
	 */
	@ExceptionHandler(value={java.lang.NullPointerException.class})
	public ModelAndView exceptionHandler(Exception ex) {
		ModelAndView mv = new ModelAndView();
		
//		mv.addObject("exception", ex.toString());
		
		StringWriter writer = new StringWriter();
		PrintWriter s = new PrintWriter(writer);
		//将异常栈中的信息暂时写入writer中
		ex.printStackTrace(s);
		
		mv.addObject("exception", writer.toString());
		
		mv.setViewName("error");
		return mv;
	}
}

```