## 数据库基础知识
### 数据库基本概念
* 什么是数据？
    * 指存储在某种介质上能够识别的物理符号，如文字、图像、声音、视频等
* 什么是数据库？
    * 保存在磁盘等介质上的数据集合，能被各类用户所共享，数据冗余度低，按一定的数据模型组织，描述和存储，较高的数据地独立性和易扩展性
* 什么是数据库管理系统(DBMS)
    * 用户和操作系统之间的数据管理软件呢，如ACCESS,MYSQL,是数据库系统的核心
    * 功能：
        * 1.数据定义
        * 2.数据操纵
        * 数据库的运行管理
        * 数据库的建立与维护
        * 提供方便的、有效存取数据库信息的接口和工具
* 什么是数据库系统？
    * 引入数据库后的计算机，是一个集合体，包括：应用系统，数据库，数据库管理系统、应用开发工具、数据库管理员和用户。
    * 
![image](http://www.yingxs.com/markimg/m1.png)

* 数据库系统的特点
    * 数据节结构化
    * 数据冗余度低
    * 数据共享性好
    * 数据独立性高
    * 数据库保护
* 数据库系统的结构
    *　客户/服务器(client/server,c/s)结构
        * 数据库的使用者使用命令行客户端、图形化界面工具或应用程序等来连接数据库管理系统，并对其中的数据进行操作。分为单机方式和网络方式
    *　浏览器/服务器(brower/server,b/s)结构
        * 也叫三层客户/服务器结构，江南客户端分为“表示层”和“处理层”，表示层通常是浏览器
* 数据模型
> 在数据库中，用数据模型来抽象、表示和处理现实世界中的数据和信息
    * 概念模型：实体-联系模型（E-R），抽象、表示现实世界的各种事物及其联系
    * 逻辑模型：层次结构、网状模型、关系模型、面向对象模型等
    * 物理模型：用于供述数据在存储介质上的组织结构
* 概念模型
    * 实体(entiy):客观存在并相互区别的万事万物，也可以是抽象的事件，如一堂课
    * 属性(attribute):实体的特征(外在表现)。如学生的学好，姓名等
    * 实体集(entity set):性质相同的同类实体的集合
    * 码(key):唯一标识实体的属性集
    * 域(domain):属性的取值范围
    * 联系(relationship):分为实体内部的联系和实体之间的联系，主要来看实体之间的联系
        * 一对一(1:1):表A中的一条记录只与表B中的一条记录联系
        * 一对多(1:N):表A中的一条记录与表B中多条记录联系
        * 多对多(M:N):表A中的一条记录与表B中的多条记录联系，反之如此
        ![](http://www.yingxs.com/markimg/m2.png)

### 关系数据库
* 关系的数据结构---用二维表表示
    * 关系：一个“表”就是一个关系，即一个二维表
    * 元祖：一个二维表中，水平方向的行称为元组，一行就是一个元组
    * 属性：二维表中垂直方向的列称为属性(字段)
    * 域：属性的取值范围
    * 关系模型：对关系的描述，表示为关系名(属性1，属性2，... , 属性n),Mysql中的表:表名(字段1，字段2，... ，字段n)
* 基本概念
    * 表：由行和列组成
    * 行：表中的一条记录
    * 列：表中的一个字段
    * 主键：其值能够唯一标识一个元组的属性或属性的集合，也叫主码或主关键字
    * 候选键：一个表中具有多个能够位置标识一个元组的属性
    * 外键：表中的一个字段不是本表的主关键字，而是另外一张表中的主关键字，这个字段就称为外关键字
    * 数据类型：所允许的数据类型

### 数据库设计
> 分为六个阶段：需求分析，概念结构设计，逻辑结构设计，数据库实施，数据库运行与维护

* 概念结构设计
    * 将用户需求抽象为信息结构，是整个数据库设计的关键，通常用E-R图来描述现实世界的概念模型 
* 逻辑结构设计
    * 把E-R图转换为关系模型(表及其联系)对其性能进行优化，逻辑模式规范化及调整、实现，根据需要设计更符合局部用户需要的用户外模式 

### MYSQL概述
> MYSQl是一个中小型关系型数据库管理系统，具有体积小，速度快，开放源代码，遵循GPL等特点，许多中小型网站选择MYSQL作为网站数据库
具有可移植性，支持多种操作系统平台，支持多种语言，方便支持上千万条记录，为多种编程语言提供API，提供多种数据库的连接途径等。

* MYSQL在internet上构建网站与信息管理系统应用环境主要有两种
    * LAMP (Linux+Apache+Mysql+php/perl/python)
    * WAMP (windows+apache+mysql+php+perl+python)

### Mysql语言组成
* 数据定义语言(DDL) 对数据库及数据库中各种对象进行创建、删除、修改等操作CREATE(创建)、ALTER(修改)、DROP(删除)
* 数据操纵语言(DML) 操纵数据控中各种对象，主要是检索和修改数据SELECT(选择)、INSERT(插入)、UPDATE(修改)、DETELE(删除)
* 数据控制语言(DCL) 用于安全管理：GRANT、REVOKE
* MYSQL扩展增加的语言要素
    * 常量，程序运行中值不变的量
    * 变量，用于临时存放数据，有名字和数据类型两个属性，分为用户变量和系统变量，用户变量会在前加一个@，系统变量会在前加两个@
        * set @name = ‘王林’ 
        * SELECT @@VERSION
    * 运算符 位运算符
    * 比较运算符 = < > >= <= != 
    * 逻辑运算符 NOT或！ AND或&& OR或|| XOR逻辑异或
    * 表达式，表达式的值也是具有某种数据类型的
    * 内置函数，函数名后有圆括号，如NOW()

### Mysql函数
#### 聚合函数
* COUNT()函数 返回所选集合中所有行的数目
* SUM()函数 求出表中某个字段取值的总和
* AVG()函数 求出表中某个字段取值的平均值
* MAX()函数 求出表中某个字段的最大值
* MIX()函数 求出表中某个字段的最小值

#### 数学函数
* ABS()函数 求出某个字段取值的绝对值
* FLOOR(x)函数 返回小于或等于参数x的最大整数
* RAND()函数 返回0~1之间的随机数
* TRUNCATE(x,y)函数 返回X保留到小数点后y位的值
* SQRT(x)函数 求X的平方根

#### 字符串函数
* UPPER(s)函数和和UCASE(s)函数 用于将字符串s中所有字母变成大写字母
* LEFT(s,n)函数 返回字符串s的前n个字符
* SUBSTRING(s,n,len)函数 用于从字符串s的第n个位置开始获取长度为len的字符串

#### 日期和时间函数
* CURDATE()和CURRENT_DATE()函数 用于获取当前日期
* CURTIME()和CURRENT_TIME()函数 用于获取当前时间
* NOW()函数 获取当前日期和时间（CURRENT_TIMESTAMP() ,LOCALTIME(), SYSDATE(), LOCATIMESTAMP())

#### 其他函数
* IF(expr,v1,v2)函数 如果expr成立，则执行v1，否则执行v2
* IFNULL(v1,v2)函数 如果表达式v1不为空，则显示v1的值，否则显示v2的值
* VERSION()函数 系统信息函数，获取数据库版本号
* 
