## 缓存机制

### 一级缓存
> 本地缓存，与数据库同一次会话期间查询到的数据会放在本体缓存中，以后如果需要获取相同的数据，直接从缓存中拿，没必要再去查询数据库

```
@Test
public void testFirestLavelCache() throws IOException {
	SqlSessionFactory sqlSessionFactory = getSqlSessionFactory();
	SqlSession openSession = sqlSessionFactory.openSession();
	
	try {
		EmployeeMapper mapper = openSession.getMapper(EmployeeMapper.class);
		Employee e1 = mapper.getEmpId(1);
		System.out.println(e1);
		
		Employee e2 = mapper.getEmpId(1);
		System.out.println(e2);
		System.out.println(e1==e2);
		
	}finally {
		openSession.close();
	}
}
	
```

* 一级缓存sqlSession级别的缓存，一级缓存是一直开启的,有一个SqlSession级别的Map
* 一级缓存失效的情况：
	1. sqlSession不同
	2. sqlSession相同，查询条件不同
	3. sqlSession相同，两次查询之间执行了增删改操作，因为这次增删改可能对数据有影响
	4. sqlSession相同，手动清空了一级缓存