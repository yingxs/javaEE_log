## 动态SQL
### 携带了哪个字段查询条件就带上这个字段的值
* EmployeeMapperDynamicSQL.java
```
public interface EmployeeMapperDynamicSQL {
	//	携带了哪个字段条件就带上这个字段的值
	List<Employee> getEmpsByConditionIf(Employee employee);
}

```
* EmployeeMapperDynamicSQL.xml
```
<mapper namespace="com.yingxs.mybatis.dao.EmployeeMapperDynamicSQL">

	<!-- 查询员工 要求，携带了哪个字段查询条件就带上这个字段的值  -->
	<!-- List<Employee> getEmpsByConditionIf(Employee employee); -->
	<select id="getEmpsByConditionIf" resultType="com.yingxs.mybatis.bean.Employee">
		select * from tbl_employee 
		where 1=1
		<!-- test:判断表达式（OGNL）
			从参数中取值判断
		  -->
		  <if test="id!=null">
		  	 and id=#{id}
		  </if>
		  <if test="lastName!=null &amp;&amp; lastName!=&quot;&quot;">
		 	 and last_name like #{lastName}
		  </if>
		  <if test="email!=null and email.trim()!=&quot;&quot;">
		 	 and email=#{email}
		  </if>
		  <!-- ognl会进行字符串与数字的转换判断  -->
		  <if test="gender==0 or gender==1">
		 	 and gender=#{gender}
		  </if>
		  
		  
	</select>
</mapper>
```
* Test
```
@Test
	public void testDynamicSql() throws IOException {
		SqlSessionFactory sqlSessionFactory = getSqlSessionFactory();
		SqlSession openSession = sqlSessionFactory.openSession();
		
		try {
			EmployeeMapperDynamicSQL mapper = openSession.getMapper(EmployeeMapperDynamicSQL.class);
			Employee employee = new Employee();
			employee.setId(4);
			employee.setEmail("jack@126.com");
			employee.setLastName("%e%");
			
			List<Employee> emps = mapper.getEmpsByConditionIf(employee);
			for (Employee emp : emps) {
				System.out.println(emp);
			}
			
			
		}finally {
			openSession.close();
		}
	}
	

```