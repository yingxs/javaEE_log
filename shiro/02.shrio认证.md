## 用户认证
### 1.Authentication：用户认证
> 验证用户是否合法，需要提交身份和凭证给shiro
![](http://yingxs.com/img/shiro2_01.png)
* Principals 用户的身份信息，是Subject的标识属性，能够唯一标识Subject。如电话号码，电子邮箱，身份证号码等
* Credentials 凭证：密码。是只被subject知道的密码值，可以是密码，也可以是数字证书等
* principals/Credentials 最常见的组合：用户名/密码。在shiro中通常使用UsernamePasswordToken来指明身份和凭证信息

### 2.在shiro中的用户认证流程
![](http://yingxs.com/img/shiro2_02.png)

### 3.代码实现
1. 新建java项目
2. 导入shiro相关的jar包
	```
	<dependencies>
		<dependency>
			<groupId>org.apache.shiro</groupId>
			<artifactId>shiro-all</artifactId>
		</dependency>
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
		</dependency>
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-log4j12</artifactId>
		</dependency>
	</dependencies>
	```
3. 编写shiro的数据文件--配置
	* shiro.ini
	```
	[users]
	zhangsan=1111
	lisi=2222
	```
4. 编码测试
```
//1.创建SecurityManager工厂 读取相应的配置文件
Factory<SecurityManager> factory = new IniSecurityManagerFactory("classpath:shiro.ini");

//2.通过securtyManager工程获取SecurityManager的实例
SecurityManager securityManager = factory.getInstance();

//3.将securityManager对象设置到运行环境中
SecurityUtils.setSecurityManager(securityManager);

//4.通过SecurityUtils获取Subject
Subject subject = SecurityUtils.getSubject();


//5.加入登录的用户名和密码是zhangsan 和1111，这个地方的zhangsan和1111表示用户登录时输入的信息
//而shiro.ini文件中信息相当于数据库中存放的用户信息
UsernamePasswordToken token = new UsernamePasswordToken("zhangsan","1111");
//6.进行用户身份验证
subject.login(token);
//7.是否通过
if(subject.isAuthenticated()) {
	System.out.println("登录成功");
}else {
	System.out.println("用户名或密码不正确");
}

```